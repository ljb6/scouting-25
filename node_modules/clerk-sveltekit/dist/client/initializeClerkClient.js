export const DEFAULT_OPTIONS = {
    afterSignInUrl: '/',
    afterSignUpUrl: '/',
    signInUrl: '/sign-in',
    signUpUrl: '/sign-up',
};
export default async function initializeClerkClient(clerk, clerkClass, key, options = DEFAULT_OPTIONS) {
    const instance = new clerkClass(key);
    await instance.load(options).catch((error) => {
        console.error('[Clerk SvelteKit] Failed to load Clerk:', error);
    });
    instance.addListener((event) => {
        if (event.user) {
            document.dispatchEvent(new CustomEvent('clerk-sveltekit:user', { detail: event.user }));
        }
    });
    clerk.set(instance);
    clerk.subscribe((clerkInstance) => {
        if (clerkInstance)
            window.Clerk = clerkInstance;
    });
}
